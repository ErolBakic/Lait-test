<script setup lang="ts">
    import { defineProps } from 'vue';
    import { useRouter, RouterLink } from 'vue-router';

    // Type
    import type { Header } from '@/types/Header';

    // fetch menu
    const router = useRouter();
    const menu = router.options.routes.filter(item => item.meta?.showHeader);

    // Props
    const props = defineProps<Header>()

</script>

<template>
    <div class="main-header" :style="{ backgroundImage: `url(${props.bgImage})` || '' }">
        <header class="wrapper header">
            <div class="header__logo">
                <RouterLink to="/">
                    <svg width="224" height="31" viewBox="0 0 224 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M28.575 26.0003V0.0302734H23.115V26.0003H28.575ZM13.07 23.6553C12.0434 25.4053 10.13 26.2803 7.33004 26.2803C5.88338 26.2803 4.62921 26.0353 3.56754 25.5453C2.50588 25.0553 1.69504 24.3786 1.13504 23.5153C0.575044 22.6519 0.295044 21.6719 0.295044 20.5753C0.295044 18.8253 0.954211 17.4486 2.27254 16.4453C3.59088 15.4419 5.62671 14.9403 8.38004 14.9403H12.72C12.72 13.7503 12.3584 12.8344 11.635 12.1928C10.9117 11.5511 9.82671 11.2303 8.38004 11.2303C7.37671 11.2303 6.39088 11.3878 5.42254 11.7028C4.45421 12.0178 3.63171 12.4436 2.95504 12.9803L0.995044 9.16527C2.02171 8.44194 3.25254 7.88194 4.68754 7.48527C6.12254 7.08861 7.59838 6.89027 9.11504 6.89027C12.0317 6.89027 14.2717 7.58444 15.835 8.97277C17.3984 10.3611 18.18 12.4553 18.18 15.2553V26.0003H13.07V23.6553ZM6.43754 21.9928C6.98588 22.4011 7.73838 22.6053 8.69504 22.6053C9.62838 22.6053 10.4567 22.3894 11.18 21.9578C11.9034 21.5261 12.4167 20.8903 12.72 20.0503V18.1253H8.97504C6.73504 18.1253 5.61504 18.8603 5.61504 20.3303C5.61504 21.0303 5.88921 21.5844 6.43754 21.9928ZM39.11 24.0053V32.7903H33.65V7.17027H38.865V9.34027C40.2184 7.70694 42.19 6.89027 44.78 6.89027C46.53 6.89027 48.1225 7.29277 49.5575 8.09777C50.9925 8.90277 52.1184 10.0344 52.935 11.4928C53.7517 12.9511 54.16 14.6486 54.16 16.5853C54.16 18.5219 53.7517 20.2194 52.935 21.6778C52.1184 23.1361 50.9925 24.2678 49.5575 25.0728C48.1225 25.8778 46.53 26.2803 44.78 26.2803C42.3767 26.2803 40.4867 25.5219 39.11 24.0053ZM43.835 21.8003C42.435 21.8003 41.2859 21.3278 40.3875 20.3828C39.4892 19.4378 39.04 18.1719 39.04 16.5853C39.04 14.9986 39.4892 13.7328 40.3875 12.7878C41.2859 11.8428 42.435 11.3703 43.835 11.3703C45.235 11.3703 46.3842 11.8428 47.2825 12.7878C48.1809 13.7328 48.63 14.9986 48.63 16.5853C48.63 18.1719 48.1809 19.4378 47.2825 20.3828C46.3842 21.3278 45.235 21.8003 43.835 21.8003ZM63.26 16.6903V26.0003H57.8V0.0302734H63.26V9.13027C63.9834 8.40694 64.8584 7.85277 65.885 7.46777C66.9117 7.08277 68.0317 6.89027 69.245 6.89027C71.5784 6.89027 73.4625 7.59027 74.8975 8.99027C76.3325 10.3903 77.05 12.4669 77.05 15.2203V26.0003H71.59V16.0603C71.59 14.5669 71.2634 13.4528 70.61 12.7178C69.9567 11.9828 69.0117 11.6153 67.775 11.6153C66.3984 11.6153 65.3017 12.0411 64.485 12.8928C63.6684 13.7444 63.26 15.0103 63.26 16.6903ZM87.795 26.2803C90.595 26.2803 92.5084 25.4053 93.535 23.6553V26.0003H98.645V15.2553C98.645 12.4553 97.8634 10.3611 96.3 8.97277C94.7367 7.58444 92.4967 6.89027 89.58 6.89027C88.0634 6.89027 86.5875 7.08861 85.1525 7.48527C83.7175 7.88194 82.4867 8.44194 81.46 9.16527L83.42 12.9803C84.0967 12.4436 84.9192 12.0178 85.8875 11.7028C86.8559 11.3878 87.8417 11.2303 88.845 11.2303C90.2917 11.2303 91.3767 11.5511 92.1 12.1928C92.8234 12.8344 93.185 13.7503 93.185 14.9403H88.845C86.0917 14.9403 84.0559 15.4419 82.7375 16.4453C81.4192 17.4486 80.76 18.8253 80.76 20.5753C80.76 21.6719 81.04 22.6519 81.6 23.5153C82.16 24.3786 82.9709 25.0553 84.0325 25.5453C85.0942 26.0353 86.3484 26.2803 87.795 26.2803ZM86.9025 21.9928C87.4509 22.4011 88.2034 22.6053 89.16 22.6053C90.0934 22.6053 90.9217 22.3894 91.6451 21.9578C92.3684 21.5261 92.8817 20.8903 93.1851 20.0503V18.1253H89.44C87.2001 18.1253 86.08 18.8603 86.08 20.3303C86.08 21.0303 86.3542 21.5844 86.9025 21.9928ZM118.945 26.0003V16.6903C118.945 15.0103 119.353 13.7444 120.17 12.8928C120.987 12.0411 122.083 11.6153 123.46 11.6153C124.697 11.6153 125.642 11.9828 126.295 12.7178C126.948 13.4528 127.275 14.5669 127.275 16.0603V26.0003H132.735V15.2203C132.735 12.4669 132.018 10.3903 130.583 8.99027C129.148 7.59027 127.263 6.89027 124.93 6.89027C123.717 6.89027 122.597 7.08277 121.57 7.46777C120.543 7.85277 119.668 8.40694 118.945 9.13027V0.0302734H113.485V26.0003H118.945ZM152.16 25.0378C150.597 25.8661 148.823 26.2803 146.84 26.2803C144.857 26.2803 143.078 25.8661 141.503 25.0378C139.928 24.2094 138.697 23.0603 137.81 21.5903C136.923 20.1203 136.48 18.4519 136.48 16.5853C136.48 14.7186 136.923 13.0503 137.81 11.5803C138.697 10.1103 139.928 8.96111 141.503 8.13277C143.078 7.30444 144.857 6.89027 146.84 6.89027C148.823 6.89027 150.597 7.30444 152.16 8.13277C153.723 8.96111 154.948 10.1103 155.835 11.5803C156.722 13.0503 157.165 14.7186 157.165 16.5853C157.165 18.4519 156.722 20.1203 155.835 21.5903C154.948 23.0603 153.723 24.2094 152.16 25.0378ZM146.84 21.8003C145.44 21.8003 144.285 21.3278 143.375 20.3828C142.465 19.4378 142.01 18.1719 142.01 16.5853C142.01 14.9986 142.465 13.7328 143.375 12.7878C144.285 11.8428 145.44 11.3703 146.84 11.3703C148.24 11.3703 149.389 11.8428 150.288 12.7878C151.186 13.7328 151.635 14.9986 151.635 16.5853C151.635 18.1719 151.186 19.4378 150.288 20.3828C149.389 21.3278 148.24 21.8003 146.84 21.8003ZM170.973 25.9828C170.191 26.1811 169.368 26.2803 168.505 26.2803C166.265 26.2803 164.533 25.7086 163.308 24.5653C162.083 23.4219 161.47 21.7419 161.47 19.5253V11.7903H158.565V7.59027H161.47V3.00527H166.93V7.59027H171.62V11.7903H166.93V19.4553C166.93 20.2486 167.134 20.8611 167.543 21.2928C167.951 21.7244 168.528 21.9403 169.275 21.9403C170.138 21.9403 170.873 21.7069 171.48 21.2403L172.95 25.0903C172.413 25.4869 171.754 25.7844 170.973 25.9828ZM184.78 26.2803C188.187 26.2803 190.777 25.2653 192.55 23.2353L189.645 20.0853C188.992 20.7153 188.286 21.1761 187.528 21.4678C186.769 21.7594 185.9 21.9053 184.92 21.9053C183.497 21.9053 182.307 21.5669 181.35 20.8903C180.393 20.2136 179.787 19.2919 179.53 18.1253H193.775C193.813 17.6353 193.84 17.267 193.858 17.0206L193.87 16.8392C193.877 16.7381 193.88 16.6768 193.88 16.6553C193.88 14.6953 193.454 12.9744 192.603 11.4928C191.751 10.0111 190.578 8.87361 189.085 8.08027C187.592 7.28694 185.923 6.89027 184.08 6.89027C182.19 6.89027 180.481 7.30444 178.953 8.13277C177.424 8.96111 176.223 10.1161 175.348 11.5978C174.473 13.0794 174.035 14.7419 174.035 16.5853C174.035 18.4519 174.478 20.1203 175.365 21.5903C176.252 23.0603 177.512 24.2094 179.145 25.0378C180.778 25.8661 182.657 26.2803 184.78 26.2803ZM179.46 14.9403H188.735C188.548 13.7503 188.035 12.7994 187.195 12.0878C186.355 11.3761 185.328 11.0203 184.115 11.0203C182.878 11.0203 181.84 11.3703 181 12.0703C180.16 12.7703 179.647 13.7269 179.46 14.9403ZM202.98 26.0003V0.0302734H197.52V26.0003H202.98ZM219.168 25.5278C217.826 26.0294 216.233 26.2803 214.39 26.2803C212.827 26.2803 211.298 26.0878 209.805 25.7028C208.312 25.3178 207.122 24.8336 206.235 24.2503L208.055 20.3303C208.895 20.8669 209.91 21.3044 211.1 21.6428C212.29 21.9811 213.457 22.1503 214.6 22.1503C216.91 22.1503 218.065 21.5786 218.065 20.4353C218.065 19.8986 217.75 19.5136 217.12 19.2803C216.49 19.0469 215.522 18.8486 214.215 18.6853C212.675 18.4519 211.403 18.1836 210.4 17.8803C209.397 17.5769 208.528 17.0403 207.793 16.2703C207.058 15.5003 206.69 14.4036 206.69 12.9803C206.69 11.7903 207.034 10.7344 207.723 9.81277C208.411 8.89111 209.414 8.17361 210.733 7.66027C212.051 7.14694 213.608 6.89027 215.405 6.89027C216.735 6.89027 218.059 7.03611 219.378 7.32777C220.696 7.61944 221.787 8.02194 222.65 8.53527L220.83 12.4203C219.173 11.4869 217.365 11.0203 215.405 11.0203C214.238 11.0203 213.363 11.1836 212.78 11.5103C212.197 11.8369 211.905 12.2569 211.905 12.7703C211.905 13.3536 212.22 13.7619 212.85 13.9953C213.48 14.2286 214.483 14.4503 215.86 14.6603C217.4 14.9169 218.66 15.1911 219.64 15.4828C220.62 15.7744 221.472 16.3053 222.195 17.0753C222.918 17.8453 223.28 18.9186 223.28 20.2953C223.28 21.4619 222.93 22.5003 222.23 23.4103C221.53 24.3203 220.509 25.0261 219.168 25.5278Z" fill="#FBF2ED"/>
                    </svg>
                </RouterLink>
            </div>
            
            <nav>
                <ul class="header__nav">
                    <li v-for="item in menu" :key="item.name">
                        <RouterLink :to="item.path" :class="{ active: router.currentRoute.value.path === item.path }">{{ item.name }}</RouterLink>
                    </li>
                </ul>
            </nav>
        </header>
        
        <div class="main-hero">
            <div class="wrapper">
                <div class="hero">
                    <slot class="hero"></slot>
                </div>
            </div>
        </div>
    </div>
</template>

<style lang="scss" scoped>
    .main-header{
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        background-color: #443e33;
        background-blend-mode: overlay;
        padding-top: 50px;
        padding-bottom: 100px;
    }
    .header{
        min-height: 200px;
        display: flex;
        justify-content: space-between;
        &__logo{
            color: $white;
            font-family: $heading;
            transform: translateY(-5px);
        }
        &__nav{
            display: flex;
            > li{
                margin-left: 40px;
                text-transform: uppercase;
                color: $white;
                position: relative;
                font-family: $heading;
                font-weight: 500;
                font-size: 15px;
                line-height: 18px;
                letter-spacing: 1.5px;
                &::after{
                    content: '';
                    position: absolute;
                    bottom: -10px;
                    left: 0;
                    width: 0;
                    height: 2px;
                    background-color: $secondary;
                    transition: width 0.3s;
                }
                &:hover{
                    &::after{
                        width: 100%;
                    }
                }
                .active{
                    color: $secondary;
                    font-weight: bold;
                    pointer-events: none;
                    cursor: default;
                    &::after{
                        content: none;
                    }
                }
            }
        }
    }
    .hero{
        max-width: 800px;
        margin-left: 100px;
        color: $white;
        :deep(h1,h2,h3,h4,h5,h6){
            font-family: $heading;
            font-weight: 700;
            font-size: 110px;
            line-height: 110px;
            letter-spacing: 1px;
        }
    }
</style>